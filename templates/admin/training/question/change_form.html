{# templates/admin/training/question/change_form.html #}
{% extends "admin/base_site.html" %}
{% load i18n admin_modify adminmedia %}

{% block extrahead %}{{ block.super }}
<script type="text/javascript" src="../../../jsi18n/"></script>
{{ media }}
<script type="text/javascript" src="/site_media/js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" charset="utf-8">
	$(document).ready(function() {
		$('.radio').parent().css({"display":"none"});
		$('.multi').parent().css({"display":"none"});
		$('.rows').parent().css({"display":"none"});
		var value = $("#id_qtype :selected").text();
		if(value=="Radio"){
			$('.radio').parent().css({"display":"block"});
		}
		if(value=="Multi"){
			$('.multi').parent().css({"display":"block"});
		}
		if(value=="Text"){
			$('.rows').parent().css({"display":"block"});
		}
		
		$("#id_qtype").bind("change", function(){
			var value = $("#id_qtype :selected").text();
			$('.radio').parent().css({"display":"none"});
			$('.multi').parent().css({"display":"none"});
			$('.rows').parent().css({"display":"none"});
			if(value=="Radio"){
				$('.radio').parent().css({"display":"block"});
			}
			if(value=="Multi"){
				$('.multi').parent().css({"display":"block"});
			}
			if(value=="Text"){
				$('.rows').parent().css({"display":"block"});
			}
		})
	});
	
</script>
{% endblock %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% admin_media_prefix %}css/forms.css" />{% endblock %}

{% block coltype %}{% if ordered_objects %}colMS{% else %}colM{% endif %}{% endblock %}

{% block bodyclass %}{{ opts.app_label }}-{{ opts.object_name.lower }} change-form{% endblock %}

{% block breadcrumbs %}
	{% if not is_popup %}
		<div class="breadcrumbs">
		     <a href="../../../">{% trans "Home" %}</a> {# &rsaquo; #}
		     <a href="../../">{{ app_label|capfirst|escape }}</a> {# &rsaquo; #} 
		     {% if has_change_permission %}<a href="../">{{ opts.verbose_name_plural|capfirst }}</a>{% else %}{{ opts.verbose_name_plural|capfirst }}{% endif %} {# &rsaquo; #} 
		     <div class="endofbreadcrumbs">{% if add %}{% trans "Add" %} {{ opts.verbose_name }}{% else %}{{ original|truncatewords:"18" }}{% endif %}</div>
		</div>
	{% endif %}
{% endblock %}{# end of breadcrumbs #}

{% block content %}
	<div id="content-main">
		{% block object-tools %}
			{% if change %}
				{% if not is_popup %}
					<ul class="object-tools">
						<li><a href="history/" class="historylink">{% trans "History" %}</a></li>
					</ul>
				{% endif %}
			{% endif %}
		{% endblock %}{# end of object-tools #}
		
		<form {% if has_file_field %}enctype="multipart/form-data" {% endif %}action="{{ form_url }}" method="post" id="{{ opts.module_name }}_form">
			{% block form_top %}{% endblock %}
			<div>
				{% if save_on_top %}{% submit_row %}{% endif %}
				
				
			
				{% if errors %}
				    <p class="errornote">
					    {% blocktrans count errors|length as counter %}
							Please correct the error below.{% plural %}Please correct the errors below.
						{% endblocktrans %}
				    </p>
				    <ul class="errorlist">{% for error in adminform.form.non_field_errors %}<li>{{ error }}</li>{% endfor %}</ul>
				{% endif %}

				{% for fieldset in adminform %}
				  {% include "admin/includes/fieldset.html" %}
				{% endfor %}

				{% submit_row %}

				{% if adminform and add %}
				   <script type="text/javascript">document.getElementById("{{ adminform.first_field.auto_id }}").focus();</script>
				{% endif %}

				{# JavaScript for prepopulated fields #}
				{% prepopulated_fields_js %}

			</div>
		</form>
	</div>{# end of content main #}
{% endblock %}
